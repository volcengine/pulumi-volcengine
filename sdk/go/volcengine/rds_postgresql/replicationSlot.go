// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package rds_postgresql

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/volcengine/pulumi-volcengine/sdk/go/volcengine/internal"
)

// Provides a resource to manage rds postgresql replication slot
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/volcengine/pulumi-volcengine/sdk/go/volcengine/rds_postgresql"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := rds_postgresql.NewReplicationSlot(ctx, "example", &rds_postgresql.ReplicationSlotArgs{
//				InstanceId: pulumi.String("postgres-72715e0d9f58"),
//				SlotName:   pulumi.String("my_standby_slot1"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// RdsPostgresqlReplicationSlot can be imported using the id, e.g.
//
// ```sh
// $ pulumi import volcengine:rds_postgresql/replicationSlot:ReplicationSlot default resource_id
// ```
type ReplicationSlot struct {
	pulumi.CustomResourceState

	// The id of the PostgreSQL instance.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// The name of the slot.
	SlotName pulumi.StringOutput `pulumi:"slotName"`
}

// NewReplicationSlot registers a new resource with the given unique name, arguments, and options.
func NewReplicationSlot(ctx *pulumi.Context,
	name string, args *ReplicationSlotArgs, opts ...pulumi.ResourceOption) (*ReplicationSlot, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.InstanceId == nil {
		return nil, errors.New("invalid value for required argument 'InstanceId'")
	}
	if args.SlotName == nil {
		return nil, errors.New("invalid value for required argument 'SlotName'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ReplicationSlot
	err := ctx.RegisterResource("volcengine:rds_postgresql/replicationSlot:ReplicationSlot", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetReplicationSlot gets an existing ReplicationSlot resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetReplicationSlot(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ReplicationSlotState, opts ...pulumi.ResourceOption) (*ReplicationSlot, error) {
	var resource ReplicationSlot
	err := ctx.ReadResource("volcengine:rds_postgresql/replicationSlot:ReplicationSlot", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ReplicationSlot resources.
type replicationSlotState struct {
	// The id of the PostgreSQL instance.
	InstanceId *string `pulumi:"instanceId"`
	// The name of the slot.
	SlotName *string `pulumi:"slotName"`
}

type ReplicationSlotState struct {
	// The id of the PostgreSQL instance.
	InstanceId pulumi.StringPtrInput
	// The name of the slot.
	SlotName pulumi.StringPtrInput
}

func (ReplicationSlotState) ElementType() reflect.Type {
	return reflect.TypeOf((*replicationSlotState)(nil)).Elem()
}

type replicationSlotArgs struct {
	// The id of the PostgreSQL instance.
	InstanceId string `pulumi:"instanceId"`
	// The name of the slot.
	SlotName string `pulumi:"slotName"`
}

// The set of arguments for constructing a ReplicationSlot resource.
type ReplicationSlotArgs struct {
	// The id of the PostgreSQL instance.
	InstanceId pulumi.StringInput
	// The name of the slot.
	SlotName pulumi.StringInput
}

func (ReplicationSlotArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*replicationSlotArgs)(nil)).Elem()
}

type ReplicationSlotInput interface {
	pulumi.Input

	ToReplicationSlotOutput() ReplicationSlotOutput
	ToReplicationSlotOutputWithContext(ctx context.Context) ReplicationSlotOutput
}

func (*ReplicationSlot) ElementType() reflect.Type {
	return reflect.TypeOf((**ReplicationSlot)(nil)).Elem()
}

func (i *ReplicationSlot) ToReplicationSlotOutput() ReplicationSlotOutput {
	return i.ToReplicationSlotOutputWithContext(context.Background())
}

func (i *ReplicationSlot) ToReplicationSlotOutputWithContext(ctx context.Context) ReplicationSlotOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ReplicationSlotOutput)
}

// ReplicationSlotArrayInput is an input type that accepts ReplicationSlotArray and ReplicationSlotArrayOutput values.
// You can construct a concrete instance of `ReplicationSlotArrayInput` via:
//
//	ReplicationSlotArray{ ReplicationSlotArgs{...} }
type ReplicationSlotArrayInput interface {
	pulumi.Input

	ToReplicationSlotArrayOutput() ReplicationSlotArrayOutput
	ToReplicationSlotArrayOutputWithContext(context.Context) ReplicationSlotArrayOutput
}

type ReplicationSlotArray []ReplicationSlotInput

func (ReplicationSlotArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ReplicationSlot)(nil)).Elem()
}

func (i ReplicationSlotArray) ToReplicationSlotArrayOutput() ReplicationSlotArrayOutput {
	return i.ToReplicationSlotArrayOutputWithContext(context.Background())
}

func (i ReplicationSlotArray) ToReplicationSlotArrayOutputWithContext(ctx context.Context) ReplicationSlotArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ReplicationSlotArrayOutput)
}

// ReplicationSlotMapInput is an input type that accepts ReplicationSlotMap and ReplicationSlotMapOutput values.
// You can construct a concrete instance of `ReplicationSlotMapInput` via:
//
//	ReplicationSlotMap{ "key": ReplicationSlotArgs{...} }
type ReplicationSlotMapInput interface {
	pulumi.Input

	ToReplicationSlotMapOutput() ReplicationSlotMapOutput
	ToReplicationSlotMapOutputWithContext(context.Context) ReplicationSlotMapOutput
}

type ReplicationSlotMap map[string]ReplicationSlotInput

func (ReplicationSlotMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ReplicationSlot)(nil)).Elem()
}

func (i ReplicationSlotMap) ToReplicationSlotMapOutput() ReplicationSlotMapOutput {
	return i.ToReplicationSlotMapOutputWithContext(context.Background())
}

func (i ReplicationSlotMap) ToReplicationSlotMapOutputWithContext(ctx context.Context) ReplicationSlotMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ReplicationSlotMapOutput)
}

type ReplicationSlotOutput struct{ *pulumi.OutputState }

func (ReplicationSlotOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ReplicationSlot)(nil)).Elem()
}

func (o ReplicationSlotOutput) ToReplicationSlotOutput() ReplicationSlotOutput {
	return o
}

func (o ReplicationSlotOutput) ToReplicationSlotOutputWithContext(ctx context.Context) ReplicationSlotOutput {
	return o
}

// The id of the PostgreSQL instance.
func (o ReplicationSlotOutput) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *ReplicationSlot) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// The name of the slot.
func (o ReplicationSlotOutput) SlotName() pulumi.StringOutput {
	return o.ApplyT(func(v *ReplicationSlot) pulumi.StringOutput { return v.SlotName }).(pulumi.StringOutput)
}

type ReplicationSlotArrayOutput struct{ *pulumi.OutputState }

func (ReplicationSlotArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ReplicationSlot)(nil)).Elem()
}

func (o ReplicationSlotArrayOutput) ToReplicationSlotArrayOutput() ReplicationSlotArrayOutput {
	return o
}

func (o ReplicationSlotArrayOutput) ToReplicationSlotArrayOutputWithContext(ctx context.Context) ReplicationSlotArrayOutput {
	return o
}

func (o ReplicationSlotArrayOutput) Index(i pulumi.IntInput) ReplicationSlotOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ReplicationSlot {
		return vs[0].([]*ReplicationSlot)[vs[1].(int)]
	}).(ReplicationSlotOutput)
}

type ReplicationSlotMapOutput struct{ *pulumi.OutputState }

func (ReplicationSlotMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ReplicationSlot)(nil)).Elem()
}

func (o ReplicationSlotMapOutput) ToReplicationSlotMapOutput() ReplicationSlotMapOutput {
	return o
}

func (o ReplicationSlotMapOutput) ToReplicationSlotMapOutputWithContext(ctx context.Context) ReplicationSlotMapOutput {
	return o
}

func (o ReplicationSlotMapOutput) MapIndex(k pulumi.StringInput) ReplicationSlotOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ReplicationSlot {
		return vs[0].(map[string]*ReplicationSlot)[vs[1].(string)]
	}).(ReplicationSlotOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ReplicationSlotInput)(nil)).Elem(), &ReplicationSlot{})
	pulumi.RegisterInputType(reflect.TypeOf((*ReplicationSlotArrayInput)(nil)).Elem(), ReplicationSlotArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ReplicationSlotMapInput)(nil)).Elem(), ReplicationSlotMap{})
	pulumi.RegisterOutputType(ReplicationSlotOutput{})
	pulumi.RegisterOutputType(ReplicationSlotArrayOutput{})
	pulumi.RegisterOutputType(ReplicationSlotMapOutput{})
}
