// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package tos

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/volcengine/pulumi-volcengine/sdk/go/volcengine/internal"
)

// Provides a resource to manage tos bucket lifecycle
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/volcengine/pulumi-volcengine/sdk/go/volcengine/tos"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := tos.NewBucketLifecycle(ctx, "foo", &tos.BucketLifecycleArgs{
//				BucketName: pulumi.String("tflybtest5"),
//				Rules: tos.BucketLifecycleRuleArray{
//					&tos.BucketLifecycleRuleArgs{
//						Expiration: &tos.BucketLifecycleRuleExpirationArgs{
//							Days: pulumi.Int(122),
//						},
//						Filter: &tos.BucketLifecycleRuleFilterArgs{
//							GreaterThanIncludeEqual: pulumi.String("Enabled"),
//							LessThanIncludeEqual:    pulumi.String("Disabled"),
//							ObjectSizeGreaterThan:   pulumi.Int(1024),
//							ObjectSizeLessThan:      pulumi.Int(10485760),
//						},
//						Id: pulumi.String("rule1"),
//						NonCurrentVersionExpiration: &tos.BucketLifecycleRuleNonCurrentVersionExpirationArgs{
//							NonCurrentDays: pulumi.Int(90),
//						},
//						NonCurrentVersionTransitions: tos.BucketLifecycleRuleNonCurrentVersionTransitionArray{
//							&tos.BucketLifecycleRuleNonCurrentVersionTransitionArgs{
//								NonCurrentDays: pulumi.Int(30),
//								StorageClass:   pulumi.String("IA"),
//							},
//							&tos.BucketLifecycleRuleNonCurrentVersionTransitionArgs{
//								NonCurrentDays: pulumi.Int(31),
//								StorageClass:   pulumi.String("ARCHIVE"),
//							},
//						},
//						Prefix: pulumi.String("documents/"),
//						Status: pulumi.String("Enabled"),
//						Tags: tos.BucketLifecycleRuleTagArray{
//							&tos.BucketLifecycleRuleTagArgs{
//								Key:   pulumi.String("example1"),
//								Value: pulumi.String("example-value1"),
//							},
//							&tos.BucketLifecycleRuleTagArgs{
//								Key:   pulumi.String("example2"),
//								Value: pulumi.String("example-value2"),
//							},
//						},
//						Transitions: tos.BucketLifecycleRuleTransitionArray{
//							&tos.BucketLifecycleRuleTransitionArgs{
//								Days:         pulumi.Int(7),
//								StorageClass: pulumi.String("IA"),
//							},
//							&tos.BucketLifecycleRuleTransitionArgs{
//								Days:         pulumi.Int(30),
//								StorageClass: pulumi.String("ARCHIVE"),
//							},
//						},
//					},
//					&tos.BucketLifecycleRuleArgs{
//						Expiration: &tos.BucketLifecycleRuleExpirationArgs{
//							Days: pulumi.Int(90),
//						},
//						Id: pulumi.String("rule2"),
//						NonCurrentVersionExpiration: &tos.BucketLifecycleRuleNonCurrentVersionExpirationArgs{
//							NonCurrentDays: pulumi.Int(30),
//						},
//						NonCurrentVersionTransitions: tos.BucketLifecycleRuleNonCurrentVersionTransitionArray{
//							&tos.BucketLifecycleRuleNonCurrentVersionTransitionArgs{
//								NonCurrentDays: pulumi.Int(7),
//								StorageClass:   pulumi.String("IA"),
//							},
//						},
//						Prefix: pulumi.String("logs/"),
//						Status: pulumi.String("Enabled"),
//					},
//					&tos.BucketLifecycleRuleArgs{
//						AbortIncompleteMultipartUpload: &tos.BucketLifecycleRuleAbortIncompleteMultipartUploadArgs{
//							DaysAfterInitiation: pulumi.Int(1),
//						},
//						Expiration: &tos.BucketLifecycleRuleExpirationArgs{
//							Date: pulumi.String("2025-12-31T00:00:00.000Z"),
//						},
//						Id:     pulumi.String("rule3"),
//						Prefix: pulumi.String("temp/"),
//						Status: pulumi.String("Disabled"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// TosBucketLifecycle can be imported using the bucketName, e.g.
//
// ```sh
// $ pulumi import volcengine:tos/bucketLifecycle:BucketLifecycle default bucket_name
// ```
type BucketLifecycle struct {
	pulumi.CustomResourceState

	// The name of the TOS bucket.
	BucketName pulumi.StringOutput `pulumi:"bucketName"`
	// The lifecycle rules of the bucket.
	Rules BucketLifecycleRuleArrayOutput `pulumi:"rules"`
}

// NewBucketLifecycle registers a new resource with the given unique name, arguments, and options.
func NewBucketLifecycle(ctx *pulumi.Context,
	name string, args *BucketLifecycleArgs, opts ...pulumi.ResourceOption) (*BucketLifecycle, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.BucketName == nil {
		return nil, errors.New("invalid value for required argument 'BucketName'")
	}
	if args.Rules == nil {
		return nil, errors.New("invalid value for required argument 'Rules'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource BucketLifecycle
	err := ctx.RegisterResource("volcengine:tos/bucketLifecycle:BucketLifecycle", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetBucketLifecycle gets an existing BucketLifecycle resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetBucketLifecycle(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *BucketLifecycleState, opts ...pulumi.ResourceOption) (*BucketLifecycle, error) {
	var resource BucketLifecycle
	err := ctx.ReadResource("volcengine:tos/bucketLifecycle:BucketLifecycle", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering BucketLifecycle resources.
type bucketLifecycleState struct {
	// The name of the TOS bucket.
	BucketName *string `pulumi:"bucketName"`
	// The lifecycle rules of the bucket.
	Rules []BucketLifecycleRule `pulumi:"rules"`
}

type BucketLifecycleState struct {
	// The name of the TOS bucket.
	BucketName pulumi.StringPtrInput
	// The lifecycle rules of the bucket.
	Rules BucketLifecycleRuleArrayInput
}

func (BucketLifecycleState) ElementType() reflect.Type {
	return reflect.TypeOf((*bucketLifecycleState)(nil)).Elem()
}

type bucketLifecycleArgs struct {
	// The name of the TOS bucket.
	BucketName string `pulumi:"bucketName"`
	// The lifecycle rules of the bucket.
	Rules []BucketLifecycleRule `pulumi:"rules"`
}

// The set of arguments for constructing a BucketLifecycle resource.
type BucketLifecycleArgs struct {
	// The name of the TOS bucket.
	BucketName pulumi.StringInput
	// The lifecycle rules of the bucket.
	Rules BucketLifecycleRuleArrayInput
}

func (BucketLifecycleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*bucketLifecycleArgs)(nil)).Elem()
}

type BucketLifecycleInput interface {
	pulumi.Input

	ToBucketLifecycleOutput() BucketLifecycleOutput
	ToBucketLifecycleOutputWithContext(ctx context.Context) BucketLifecycleOutput
}

func (*BucketLifecycle) ElementType() reflect.Type {
	return reflect.TypeOf((**BucketLifecycle)(nil)).Elem()
}

func (i *BucketLifecycle) ToBucketLifecycleOutput() BucketLifecycleOutput {
	return i.ToBucketLifecycleOutputWithContext(context.Background())
}

func (i *BucketLifecycle) ToBucketLifecycleOutputWithContext(ctx context.Context) BucketLifecycleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BucketLifecycleOutput)
}

// BucketLifecycleArrayInput is an input type that accepts BucketLifecycleArray and BucketLifecycleArrayOutput values.
// You can construct a concrete instance of `BucketLifecycleArrayInput` via:
//
//	BucketLifecycleArray{ BucketLifecycleArgs{...} }
type BucketLifecycleArrayInput interface {
	pulumi.Input

	ToBucketLifecycleArrayOutput() BucketLifecycleArrayOutput
	ToBucketLifecycleArrayOutputWithContext(context.Context) BucketLifecycleArrayOutput
}

type BucketLifecycleArray []BucketLifecycleInput

func (BucketLifecycleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BucketLifecycle)(nil)).Elem()
}

func (i BucketLifecycleArray) ToBucketLifecycleArrayOutput() BucketLifecycleArrayOutput {
	return i.ToBucketLifecycleArrayOutputWithContext(context.Background())
}

func (i BucketLifecycleArray) ToBucketLifecycleArrayOutputWithContext(ctx context.Context) BucketLifecycleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BucketLifecycleArrayOutput)
}

// BucketLifecycleMapInput is an input type that accepts BucketLifecycleMap and BucketLifecycleMapOutput values.
// You can construct a concrete instance of `BucketLifecycleMapInput` via:
//
//	BucketLifecycleMap{ "key": BucketLifecycleArgs{...} }
type BucketLifecycleMapInput interface {
	pulumi.Input

	ToBucketLifecycleMapOutput() BucketLifecycleMapOutput
	ToBucketLifecycleMapOutputWithContext(context.Context) BucketLifecycleMapOutput
}

type BucketLifecycleMap map[string]BucketLifecycleInput

func (BucketLifecycleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BucketLifecycle)(nil)).Elem()
}

func (i BucketLifecycleMap) ToBucketLifecycleMapOutput() BucketLifecycleMapOutput {
	return i.ToBucketLifecycleMapOutputWithContext(context.Background())
}

func (i BucketLifecycleMap) ToBucketLifecycleMapOutputWithContext(ctx context.Context) BucketLifecycleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BucketLifecycleMapOutput)
}

type BucketLifecycleOutput struct{ *pulumi.OutputState }

func (BucketLifecycleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**BucketLifecycle)(nil)).Elem()
}

func (o BucketLifecycleOutput) ToBucketLifecycleOutput() BucketLifecycleOutput {
	return o
}

func (o BucketLifecycleOutput) ToBucketLifecycleOutputWithContext(ctx context.Context) BucketLifecycleOutput {
	return o
}

// The name of the TOS bucket.
func (o BucketLifecycleOutput) BucketName() pulumi.StringOutput {
	return o.ApplyT(func(v *BucketLifecycle) pulumi.StringOutput { return v.BucketName }).(pulumi.StringOutput)
}

// The lifecycle rules of the bucket.
func (o BucketLifecycleOutput) Rules() BucketLifecycleRuleArrayOutput {
	return o.ApplyT(func(v *BucketLifecycle) BucketLifecycleRuleArrayOutput { return v.Rules }).(BucketLifecycleRuleArrayOutput)
}

type BucketLifecycleArrayOutput struct{ *pulumi.OutputState }

func (BucketLifecycleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BucketLifecycle)(nil)).Elem()
}

func (o BucketLifecycleArrayOutput) ToBucketLifecycleArrayOutput() BucketLifecycleArrayOutput {
	return o
}

func (o BucketLifecycleArrayOutput) ToBucketLifecycleArrayOutputWithContext(ctx context.Context) BucketLifecycleArrayOutput {
	return o
}

func (o BucketLifecycleArrayOutput) Index(i pulumi.IntInput) BucketLifecycleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *BucketLifecycle {
		return vs[0].([]*BucketLifecycle)[vs[1].(int)]
	}).(BucketLifecycleOutput)
}

type BucketLifecycleMapOutput struct{ *pulumi.OutputState }

func (BucketLifecycleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BucketLifecycle)(nil)).Elem()
}

func (o BucketLifecycleMapOutput) ToBucketLifecycleMapOutput() BucketLifecycleMapOutput {
	return o
}

func (o BucketLifecycleMapOutput) ToBucketLifecycleMapOutputWithContext(ctx context.Context) BucketLifecycleMapOutput {
	return o
}

func (o BucketLifecycleMapOutput) MapIndex(k pulumi.StringInput) BucketLifecycleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *BucketLifecycle {
		return vs[0].(map[string]*BucketLifecycle)[vs[1].(string)]
	}).(BucketLifecycleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*BucketLifecycleInput)(nil)).Elem(), &BucketLifecycle{})
	pulumi.RegisterInputType(reflect.TypeOf((*BucketLifecycleArrayInput)(nil)).Elem(), BucketLifecycleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*BucketLifecycleMapInput)(nil)).Elem(), BucketLifecycleMap{})
	pulumi.RegisterOutputType(BucketLifecycleOutput{})
	pulumi.RegisterOutputType(BucketLifecycleArrayOutput{})
	pulumi.RegisterOutputType(BucketLifecycleMapOutput{})
}
