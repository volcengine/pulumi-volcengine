# coding=utf-8
# *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
# *** Do not edit by hand unless you're certain you know what you are doing! ***

import copy
import warnings
import pulumi
import pulumi.runtime
from typing import Any, Mapping, Optional, Sequence, Union, overload
from .. import _utilities
from . import outputs
from ._inputs import *

__all__ = ['DatabaseEndpointArgs', 'DatabaseEndpoint']

@pulumi.input_type
class DatabaseEndpointArgs:
    def __init__(__self__, *,
                 endpoint_name: pulumi.Input[str],
                 instance_id: pulumi.Input[str],
                 dns_visibility: Optional[pulumi.Input[bool]] = None,
                 domain_prefix: Optional[pulumi.Input[str]] = None,
                 endpoint_id: Optional[pulumi.Input[str]] = None,
                 endpoint_type: Optional[pulumi.Input[str]] = None,
                 global_read_only: Optional[pulumi.Input[bool]] = None,
                 nodes: Optional[pulumi.Input[str]] = None,
                 port: Optional[pulumi.Input[str]] = None,
                 read_only_node_distribution_type: Optional[pulumi.Input[str]] = None,
                 read_only_node_max_delay_time: Optional[pulumi.Input[int]] = None,
                 read_only_node_weights: Optional[pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]]] = None,
                 read_write_mode: Optional[pulumi.Input[str]] = None,
                 read_write_proxy_connection: Optional[pulumi.Input[int]] = None,
                 read_write_splitting: Optional[pulumi.Input[bool]] = None,
                 write_node_halt_writing: Optional[pulumi.Input[bool]] = None):
        """
        The set of arguments for constructing a DatabaseEndpoint resource.
        :param pulumi.Input[str] endpoint_name: The name of the connection endpoint. If not provided, the connection endpoint will be automatically named Custom Endpoint.
        :param pulumi.Input[str] instance_id: The ID of the RDS PostgreSQL instance.
        :param pulumi.Input[bool] dns_visibility: Whether to enable public network resolution. false: Default value, Volcano Engine private network resolution. true: Volcano Engine private network and public network resolution. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] domain_prefix: Private address domain prefix to modify. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] endpoint_id: The ID of the connection endpoint. The ID of the default endpoint is in the form of instance_id-cluster.
        :param pulumi.Input[str] endpoint_type: Type of the connection endpoint. Valid values: `Custom`(custom endpoint), `Cluster`(default endpoint). When create a new
               endpoint, the value must be `Custom`. The default cluster endpoint does not support creation; you can use import to
               bring it under Terraform management.
        :param pulumi.Input[bool] global_read_only: Whether to enable the global read-only mode for the instance. There is no default value. If no value is passed, the request will be ignored. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] nodes: List of nodes configured for the connection endpoint. Required when EndpointType is Custom. The primary node does not need to pass the node ID; it is sufficient to pass the string "Primary".
        :param pulumi.Input[str] port: Private address port to modify. The value range is 1000~65534. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] read_only_node_distribution_type: Read-only weight distribution mode, Default or Custom. Default: Standard weight allocation. Custom: Custom weight allocation.
        :param pulumi.Input[int] read_only_node_max_delay_time: The maximum delay threshold for read-only nodes. When the delay time of a read-only node exceeds this value, read traffic will not be sent to that node. The value range is 0~3600. Default value is 30 seconds.
        :param pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]] read_only_node_weights: Custom read weight allocation. This parameter needs to be set when the value of read_only_node_distribution_type is Custom.
        :param pulumi.Input[str] read_write_mode: ReadWrite or ReadOnly.
        :param pulumi.Input[int] read_write_proxy_connection: The number of proxy connections set for the terminal after enabling read-write separation. The minimum value of the proxy connection count is 20.
        :param pulumi.Input[bool] read_write_splitting: Whether to enable read-write separation. Only default endpoint supports this feature.
        :param pulumi.Input[bool] write_node_halt_writing: Whether to prohibit the terminal from sending write requests to the write node. To avoid having no available connection endpoints to carry write operations, this configuration can only be enabled when the instance has other read-write endpoints.
        """
        pulumi.set(__self__, "endpoint_name", endpoint_name)
        pulumi.set(__self__, "instance_id", instance_id)
        if dns_visibility is not None:
            pulumi.set(__self__, "dns_visibility", dns_visibility)
        if domain_prefix is not None:
            pulumi.set(__self__, "domain_prefix", domain_prefix)
        if endpoint_id is not None:
            pulumi.set(__self__, "endpoint_id", endpoint_id)
        if endpoint_type is not None:
            pulumi.set(__self__, "endpoint_type", endpoint_type)
        if global_read_only is not None:
            pulumi.set(__self__, "global_read_only", global_read_only)
        if nodes is not None:
            pulumi.set(__self__, "nodes", nodes)
        if port is not None:
            pulumi.set(__self__, "port", port)
        if read_only_node_distribution_type is not None:
            pulumi.set(__self__, "read_only_node_distribution_type", read_only_node_distribution_type)
        if read_only_node_max_delay_time is not None:
            pulumi.set(__self__, "read_only_node_max_delay_time", read_only_node_max_delay_time)
        if read_only_node_weights is not None:
            pulumi.set(__self__, "read_only_node_weights", read_only_node_weights)
        if read_write_mode is not None:
            pulumi.set(__self__, "read_write_mode", read_write_mode)
        if read_write_proxy_connection is not None:
            pulumi.set(__self__, "read_write_proxy_connection", read_write_proxy_connection)
        if read_write_splitting is not None:
            pulumi.set(__self__, "read_write_splitting", read_write_splitting)
        if write_node_halt_writing is not None:
            pulumi.set(__self__, "write_node_halt_writing", write_node_halt_writing)

    @property
    @pulumi.getter(name="endpointName")
    def endpoint_name(self) -> pulumi.Input[str]:
        """
        The name of the connection endpoint. If not provided, the connection endpoint will be automatically named Custom Endpoint.
        """
        return pulumi.get(self, "endpoint_name")

    @endpoint_name.setter
    def endpoint_name(self, value: pulumi.Input[str]):
        pulumi.set(self, "endpoint_name", value)

    @property
    @pulumi.getter(name="instanceId")
    def instance_id(self) -> pulumi.Input[str]:
        """
        The ID of the RDS PostgreSQL instance.
        """
        return pulumi.get(self, "instance_id")

    @instance_id.setter
    def instance_id(self, value: pulumi.Input[str]):
        pulumi.set(self, "instance_id", value)

    @property
    @pulumi.getter(name="dnsVisibility")
    def dns_visibility(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to enable public network resolution. false: Default value, Volcano Engine private network resolution. true: Volcano Engine private network and public network resolution. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "dns_visibility")

    @dns_visibility.setter
    def dns_visibility(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "dns_visibility", value)

    @property
    @pulumi.getter(name="domainPrefix")
    def domain_prefix(self) -> Optional[pulumi.Input[str]]:
        """
        Private address domain prefix to modify. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "domain_prefix")

    @domain_prefix.setter
    def domain_prefix(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "domain_prefix", value)

    @property
    @pulumi.getter(name="endpointId")
    def endpoint_id(self) -> Optional[pulumi.Input[str]]:
        """
        The ID of the connection endpoint. The ID of the default endpoint is in the form of instance_id-cluster.
        """
        return pulumi.get(self, "endpoint_id")

    @endpoint_id.setter
    def endpoint_id(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "endpoint_id", value)

    @property
    @pulumi.getter(name="endpointType")
    def endpoint_type(self) -> Optional[pulumi.Input[str]]:
        """
        Type of the connection endpoint. Valid values: `Custom`(custom endpoint), `Cluster`(default endpoint). When create a new
        endpoint, the value must be `Custom`. The default cluster endpoint does not support creation; you can use import to
        bring it under Terraform management.
        """
        return pulumi.get(self, "endpoint_type")

    @endpoint_type.setter
    def endpoint_type(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "endpoint_type", value)

    @property
    @pulumi.getter(name="globalReadOnly")
    def global_read_only(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to enable the global read-only mode for the instance. There is no default value. If no value is passed, the request will be ignored. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "global_read_only")

    @global_read_only.setter
    def global_read_only(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "global_read_only", value)

    @property
    @pulumi.getter
    def nodes(self) -> Optional[pulumi.Input[str]]:
        """
        List of nodes configured for the connection endpoint. Required when EndpointType is Custom. The primary node does not need to pass the node ID; it is sufficient to pass the string "Primary".
        """
        return pulumi.get(self, "nodes")

    @nodes.setter
    def nodes(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "nodes", value)

    @property
    @pulumi.getter
    def port(self) -> Optional[pulumi.Input[str]]:
        """
        Private address port to modify. The value range is 1000~65534. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "port")

    @port.setter
    def port(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "port", value)

    @property
    @pulumi.getter(name="readOnlyNodeDistributionType")
    def read_only_node_distribution_type(self) -> Optional[pulumi.Input[str]]:
        """
        Read-only weight distribution mode, Default or Custom. Default: Standard weight allocation. Custom: Custom weight allocation.
        """
        return pulumi.get(self, "read_only_node_distribution_type")

    @read_only_node_distribution_type.setter
    def read_only_node_distribution_type(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "read_only_node_distribution_type", value)

    @property
    @pulumi.getter(name="readOnlyNodeMaxDelayTime")
    def read_only_node_max_delay_time(self) -> Optional[pulumi.Input[int]]:
        """
        The maximum delay threshold for read-only nodes. When the delay time of a read-only node exceeds this value, read traffic will not be sent to that node. The value range is 0~3600. Default value is 30 seconds.
        """
        return pulumi.get(self, "read_only_node_max_delay_time")

    @read_only_node_max_delay_time.setter
    def read_only_node_max_delay_time(self, value: Optional[pulumi.Input[int]]):
        pulumi.set(self, "read_only_node_max_delay_time", value)

    @property
    @pulumi.getter(name="readOnlyNodeWeights")
    def read_only_node_weights(self) -> Optional[pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]]]:
        """
        Custom read weight allocation. This parameter needs to be set when the value of read_only_node_distribution_type is Custom.
        """
        return pulumi.get(self, "read_only_node_weights")

    @read_only_node_weights.setter
    def read_only_node_weights(self, value: Optional[pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]]]):
        pulumi.set(self, "read_only_node_weights", value)

    @property
    @pulumi.getter(name="readWriteMode")
    def read_write_mode(self) -> Optional[pulumi.Input[str]]:
        """
        ReadWrite or ReadOnly.
        """
        return pulumi.get(self, "read_write_mode")

    @read_write_mode.setter
    def read_write_mode(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "read_write_mode", value)

    @property
    @pulumi.getter(name="readWriteProxyConnection")
    def read_write_proxy_connection(self) -> Optional[pulumi.Input[int]]:
        """
        The number of proxy connections set for the terminal after enabling read-write separation. The minimum value of the proxy connection count is 20.
        """
        return pulumi.get(self, "read_write_proxy_connection")

    @read_write_proxy_connection.setter
    def read_write_proxy_connection(self, value: Optional[pulumi.Input[int]]):
        pulumi.set(self, "read_write_proxy_connection", value)

    @property
    @pulumi.getter(name="readWriteSplitting")
    def read_write_splitting(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to enable read-write separation. Only default endpoint supports this feature.
        """
        return pulumi.get(self, "read_write_splitting")

    @read_write_splitting.setter
    def read_write_splitting(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "read_write_splitting", value)

    @property
    @pulumi.getter(name="writeNodeHaltWriting")
    def write_node_halt_writing(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to prohibit the terminal from sending write requests to the write node. To avoid having no available connection endpoints to carry write operations, this configuration can only be enabled when the instance has other read-write endpoints.
        """
        return pulumi.get(self, "write_node_halt_writing")

    @write_node_halt_writing.setter
    def write_node_halt_writing(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "write_node_halt_writing", value)


@pulumi.input_type
class _DatabaseEndpointState:
    def __init__(__self__, *,
                 dns_visibility: Optional[pulumi.Input[bool]] = None,
                 domain_prefix: Optional[pulumi.Input[str]] = None,
                 endpoint_id: Optional[pulumi.Input[str]] = None,
                 endpoint_name: Optional[pulumi.Input[str]] = None,
                 endpoint_type: Optional[pulumi.Input[str]] = None,
                 global_read_only: Optional[pulumi.Input[bool]] = None,
                 instance_id: Optional[pulumi.Input[str]] = None,
                 nodes: Optional[pulumi.Input[str]] = None,
                 port: Optional[pulumi.Input[str]] = None,
                 read_only_node_distribution_type: Optional[pulumi.Input[str]] = None,
                 read_only_node_max_delay_time: Optional[pulumi.Input[int]] = None,
                 read_only_node_weights: Optional[pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]]] = None,
                 read_write_mode: Optional[pulumi.Input[str]] = None,
                 read_write_proxy_connection: Optional[pulumi.Input[int]] = None,
                 read_write_splitting: Optional[pulumi.Input[bool]] = None,
                 write_node_halt_writing: Optional[pulumi.Input[bool]] = None):
        """
        Input properties used for looking up and filtering DatabaseEndpoint resources.
        :param pulumi.Input[bool] dns_visibility: Whether to enable public network resolution. false: Default value, Volcano Engine private network resolution. true: Volcano Engine private network and public network resolution. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] domain_prefix: Private address domain prefix to modify. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] endpoint_id: The ID of the connection endpoint. The ID of the default endpoint is in the form of instance_id-cluster.
        :param pulumi.Input[str] endpoint_name: The name of the connection endpoint. If not provided, the connection endpoint will be automatically named Custom Endpoint.
        :param pulumi.Input[str] endpoint_type: Type of the connection endpoint. Valid values: `Custom`(custom endpoint), `Cluster`(default endpoint). When create a new
               endpoint, the value must be `Custom`. The default cluster endpoint does not support creation; you can use import to
               bring it under Terraform management.
        :param pulumi.Input[bool] global_read_only: Whether to enable the global read-only mode for the instance. There is no default value. If no value is passed, the request will be ignored. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] instance_id: The ID of the RDS PostgreSQL instance.
        :param pulumi.Input[str] nodes: List of nodes configured for the connection endpoint. Required when EndpointType is Custom. The primary node does not need to pass the node ID; it is sufficient to pass the string "Primary".
        :param pulumi.Input[str] port: Private address port to modify. The value range is 1000~65534. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] read_only_node_distribution_type: Read-only weight distribution mode, Default or Custom. Default: Standard weight allocation. Custom: Custom weight allocation.
        :param pulumi.Input[int] read_only_node_max_delay_time: The maximum delay threshold for read-only nodes. When the delay time of a read-only node exceeds this value, read traffic will not be sent to that node. The value range is 0~3600. Default value is 30 seconds.
        :param pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]] read_only_node_weights: Custom read weight allocation. This parameter needs to be set when the value of read_only_node_distribution_type is Custom.
        :param pulumi.Input[str] read_write_mode: ReadWrite or ReadOnly.
        :param pulumi.Input[int] read_write_proxy_connection: The number of proxy connections set for the terminal after enabling read-write separation. The minimum value of the proxy connection count is 20.
        :param pulumi.Input[bool] read_write_splitting: Whether to enable read-write separation. Only default endpoint supports this feature.
        :param pulumi.Input[bool] write_node_halt_writing: Whether to prohibit the terminal from sending write requests to the write node. To avoid having no available connection endpoints to carry write operations, this configuration can only be enabled when the instance has other read-write endpoints.
        """
        if dns_visibility is not None:
            pulumi.set(__self__, "dns_visibility", dns_visibility)
        if domain_prefix is not None:
            pulumi.set(__self__, "domain_prefix", domain_prefix)
        if endpoint_id is not None:
            pulumi.set(__self__, "endpoint_id", endpoint_id)
        if endpoint_name is not None:
            pulumi.set(__self__, "endpoint_name", endpoint_name)
        if endpoint_type is not None:
            pulumi.set(__self__, "endpoint_type", endpoint_type)
        if global_read_only is not None:
            pulumi.set(__self__, "global_read_only", global_read_only)
        if instance_id is not None:
            pulumi.set(__self__, "instance_id", instance_id)
        if nodes is not None:
            pulumi.set(__self__, "nodes", nodes)
        if port is not None:
            pulumi.set(__self__, "port", port)
        if read_only_node_distribution_type is not None:
            pulumi.set(__self__, "read_only_node_distribution_type", read_only_node_distribution_type)
        if read_only_node_max_delay_time is not None:
            pulumi.set(__self__, "read_only_node_max_delay_time", read_only_node_max_delay_time)
        if read_only_node_weights is not None:
            pulumi.set(__self__, "read_only_node_weights", read_only_node_weights)
        if read_write_mode is not None:
            pulumi.set(__self__, "read_write_mode", read_write_mode)
        if read_write_proxy_connection is not None:
            pulumi.set(__self__, "read_write_proxy_connection", read_write_proxy_connection)
        if read_write_splitting is not None:
            pulumi.set(__self__, "read_write_splitting", read_write_splitting)
        if write_node_halt_writing is not None:
            pulumi.set(__self__, "write_node_halt_writing", write_node_halt_writing)

    @property
    @pulumi.getter(name="dnsVisibility")
    def dns_visibility(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to enable public network resolution. false: Default value, Volcano Engine private network resolution. true: Volcano Engine private network and public network resolution. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "dns_visibility")

    @dns_visibility.setter
    def dns_visibility(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "dns_visibility", value)

    @property
    @pulumi.getter(name="domainPrefix")
    def domain_prefix(self) -> Optional[pulumi.Input[str]]:
        """
        Private address domain prefix to modify. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "domain_prefix")

    @domain_prefix.setter
    def domain_prefix(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "domain_prefix", value)

    @property
    @pulumi.getter(name="endpointId")
    def endpoint_id(self) -> Optional[pulumi.Input[str]]:
        """
        The ID of the connection endpoint. The ID of the default endpoint is in the form of instance_id-cluster.
        """
        return pulumi.get(self, "endpoint_id")

    @endpoint_id.setter
    def endpoint_id(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "endpoint_id", value)

    @property
    @pulumi.getter(name="endpointName")
    def endpoint_name(self) -> Optional[pulumi.Input[str]]:
        """
        The name of the connection endpoint. If not provided, the connection endpoint will be automatically named Custom Endpoint.
        """
        return pulumi.get(self, "endpoint_name")

    @endpoint_name.setter
    def endpoint_name(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "endpoint_name", value)

    @property
    @pulumi.getter(name="endpointType")
    def endpoint_type(self) -> Optional[pulumi.Input[str]]:
        """
        Type of the connection endpoint. Valid values: `Custom`(custom endpoint), `Cluster`(default endpoint). When create a new
        endpoint, the value must be `Custom`. The default cluster endpoint does not support creation; you can use import to
        bring it under Terraform management.
        """
        return pulumi.get(self, "endpoint_type")

    @endpoint_type.setter
    def endpoint_type(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "endpoint_type", value)

    @property
    @pulumi.getter(name="globalReadOnly")
    def global_read_only(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to enable the global read-only mode for the instance. There is no default value. If no value is passed, the request will be ignored. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "global_read_only")

    @global_read_only.setter
    def global_read_only(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "global_read_only", value)

    @property
    @pulumi.getter(name="instanceId")
    def instance_id(self) -> Optional[pulumi.Input[str]]:
        """
        The ID of the RDS PostgreSQL instance.
        """
        return pulumi.get(self, "instance_id")

    @instance_id.setter
    def instance_id(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "instance_id", value)

    @property
    @pulumi.getter
    def nodes(self) -> Optional[pulumi.Input[str]]:
        """
        List of nodes configured for the connection endpoint. Required when EndpointType is Custom. The primary node does not need to pass the node ID; it is sufficient to pass the string "Primary".
        """
        return pulumi.get(self, "nodes")

    @nodes.setter
    def nodes(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "nodes", value)

    @property
    @pulumi.getter
    def port(self) -> Optional[pulumi.Input[str]]:
        """
        Private address port to modify. The value range is 1000~65534. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "port")

    @port.setter
    def port(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "port", value)

    @property
    @pulumi.getter(name="readOnlyNodeDistributionType")
    def read_only_node_distribution_type(self) -> Optional[pulumi.Input[str]]:
        """
        Read-only weight distribution mode, Default or Custom. Default: Standard weight allocation. Custom: Custom weight allocation.
        """
        return pulumi.get(self, "read_only_node_distribution_type")

    @read_only_node_distribution_type.setter
    def read_only_node_distribution_type(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "read_only_node_distribution_type", value)

    @property
    @pulumi.getter(name="readOnlyNodeMaxDelayTime")
    def read_only_node_max_delay_time(self) -> Optional[pulumi.Input[int]]:
        """
        The maximum delay threshold for read-only nodes. When the delay time of a read-only node exceeds this value, read traffic will not be sent to that node. The value range is 0~3600. Default value is 30 seconds.
        """
        return pulumi.get(self, "read_only_node_max_delay_time")

    @read_only_node_max_delay_time.setter
    def read_only_node_max_delay_time(self, value: Optional[pulumi.Input[int]]):
        pulumi.set(self, "read_only_node_max_delay_time", value)

    @property
    @pulumi.getter(name="readOnlyNodeWeights")
    def read_only_node_weights(self) -> Optional[pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]]]:
        """
        Custom read weight allocation. This parameter needs to be set when the value of read_only_node_distribution_type is Custom.
        """
        return pulumi.get(self, "read_only_node_weights")

    @read_only_node_weights.setter
    def read_only_node_weights(self, value: Optional[pulumi.Input[Sequence[pulumi.Input['DatabaseEndpointReadOnlyNodeWeightArgs']]]]):
        pulumi.set(self, "read_only_node_weights", value)

    @property
    @pulumi.getter(name="readWriteMode")
    def read_write_mode(self) -> Optional[pulumi.Input[str]]:
        """
        ReadWrite or ReadOnly.
        """
        return pulumi.get(self, "read_write_mode")

    @read_write_mode.setter
    def read_write_mode(self, value: Optional[pulumi.Input[str]]):
        pulumi.set(self, "read_write_mode", value)

    @property
    @pulumi.getter(name="readWriteProxyConnection")
    def read_write_proxy_connection(self) -> Optional[pulumi.Input[int]]:
        """
        The number of proxy connections set for the terminal after enabling read-write separation. The minimum value of the proxy connection count is 20.
        """
        return pulumi.get(self, "read_write_proxy_connection")

    @read_write_proxy_connection.setter
    def read_write_proxy_connection(self, value: Optional[pulumi.Input[int]]):
        pulumi.set(self, "read_write_proxy_connection", value)

    @property
    @pulumi.getter(name="readWriteSplitting")
    def read_write_splitting(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to enable read-write separation. Only default endpoint supports this feature.
        """
        return pulumi.get(self, "read_write_splitting")

    @read_write_splitting.setter
    def read_write_splitting(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "read_write_splitting", value)

    @property
    @pulumi.getter(name="writeNodeHaltWriting")
    def write_node_halt_writing(self) -> Optional[pulumi.Input[bool]]:
        """
        Whether to prohibit the terminal from sending write requests to the write node. To avoid having no available connection endpoints to carry write operations, this configuration can only be enabled when the instance has other read-write endpoints.
        """
        return pulumi.get(self, "write_node_halt_writing")

    @write_node_halt_writing.setter
    def write_node_halt_writing(self, value: Optional[pulumi.Input[bool]]):
        pulumi.set(self, "write_node_halt_writing", value)


class DatabaseEndpoint(pulumi.CustomResource):
    @overload
    def __init__(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 dns_visibility: Optional[pulumi.Input[bool]] = None,
                 domain_prefix: Optional[pulumi.Input[str]] = None,
                 endpoint_id: Optional[pulumi.Input[str]] = None,
                 endpoint_name: Optional[pulumi.Input[str]] = None,
                 endpoint_type: Optional[pulumi.Input[str]] = None,
                 global_read_only: Optional[pulumi.Input[bool]] = None,
                 instance_id: Optional[pulumi.Input[str]] = None,
                 nodes: Optional[pulumi.Input[str]] = None,
                 port: Optional[pulumi.Input[str]] = None,
                 read_only_node_distribution_type: Optional[pulumi.Input[str]] = None,
                 read_only_node_max_delay_time: Optional[pulumi.Input[int]] = None,
                 read_only_node_weights: Optional[pulumi.Input[Sequence[pulumi.Input[pulumi.InputType['DatabaseEndpointReadOnlyNodeWeightArgs']]]]] = None,
                 read_write_mode: Optional[pulumi.Input[str]] = None,
                 read_write_proxy_connection: Optional[pulumi.Input[int]] = None,
                 read_write_splitting: Optional[pulumi.Input[bool]] = None,
                 write_node_halt_writing: Optional[pulumi.Input[bool]] = None,
                 __props__=None):
        """
        Provides a resource to manage rds postgresql database endpoint
        ## Example Usage

        ```python
        import pulumi
        import pulumi_volcengine as volcengine

        cluster = volcengine.rds_postgresql.DatabaseEndpoint("cluster",
            endpoint_id="postgres-72715e0d9f58-cluster",
            endpoint_name="默认终端",
            endpoint_type="Cluster",
            instance_id="postgres-72715e0d9f58",
            read_only_node_distribution_type="Custom",
            read_only_node_max_delay_time=40,
            read_write_mode="ReadWrite",
            read_write_proxy_connection=20,
            write_node_halt_writing=False,
            read_write_splitting=True,
            read_only_node_weights=[volcengine.rds_postgresql.DatabaseEndpointReadOnlyNodeWeightArgs(
                node_id=None,
                node_type="Primary",
                weight=200,
            )],
            dns_visibility=True,
            port="5432")
        example = volcengine.rds_postgresql.DatabaseEndpoint("example",
            instance_id="postgres-72715e0d9f58",
            endpoint_name="tf-test",
            endpoint_type="Custom",
            nodes="Primary",
            read_write_mode="ReadWrite")
        ```

        ## Import

        RdsPostgresqlDatabaseEndpoint can be imported using the id, e.g.

        ```sh
        $ pulumi import volcengine:rds_postgresql/databaseEndpoint:DatabaseEndpoint default resource_id
        ```

        :param str resource_name: The name of the resource.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[bool] dns_visibility: Whether to enable public network resolution. false: Default value, Volcano Engine private network resolution. true: Volcano Engine private network and public network resolution. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] domain_prefix: Private address domain prefix to modify. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] endpoint_id: The ID of the connection endpoint. The ID of the default endpoint is in the form of instance_id-cluster.
        :param pulumi.Input[str] endpoint_name: The name of the connection endpoint. If not provided, the connection endpoint will be automatically named Custom Endpoint.
        :param pulumi.Input[str] endpoint_type: Type of the connection endpoint. Valid values: `Custom`(custom endpoint), `Cluster`(default endpoint). When create a new
               endpoint, the value must be `Custom`. The default cluster endpoint does not support creation; you can use import to
               bring it under Terraform management.
        :param pulumi.Input[bool] global_read_only: Whether to enable the global read-only mode for the instance. There is no default value. If no value is passed, the request will be ignored. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] instance_id: The ID of the RDS PostgreSQL instance.
        :param pulumi.Input[str] nodes: List of nodes configured for the connection endpoint. Required when EndpointType is Custom. The primary node does not need to pass the node ID; it is sufficient to pass the string "Primary".
        :param pulumi.Input[str] port: Private address port to modify. The value range is 1000~65534. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] read_only_node_distribution_type: Read-only weight distribution mode, Default or Custom. Default: Standard weight allocation. Custom: Custom weight allocation.
        :param pulumi.Input[int] read_only_node_max_delay_time: The maximum delay threshold for read-only nodes. When the delay time of a read-only node exceeds this value, read traffic will not be sent to that node. The value range is 0~3600. Default value is 30 seconds.
        :param pulumi.Input[Sequence[pulumi.Input[pulumi.InputType['DatabaseEndpointReadOnlyNodeWeightArgs']]]] read_only_node_weights: Custom read weight allocation. This parameter needs to be set when the value of read_only_node_distribution_type is Custom.
        :param pulumi.Input[str] read_write_mode: ReadWrite or ReadOnly.
        :param pulumi.Input[int] read_write_proxy_connection: The number of proxy connections set for the terminal after enabling read-write separation. The minimum value of the proxy connection count is 20.
        :param pulumi.Input[bool] read_write_splitting: Whether to enable read-write separation. Only default endpoint supports this feature.
        :param pulumi.Input[bool] write_node_halt_writing: Whether to prohibit the terminal from sending write requests to the write node. To avoid having no available connection endpoints to carry write operations, this configuration can only be enabled when the instance has other read-write endpoints.
        """
        ...
    @overload
    def __init__(__self__,
                 resource_name: str,
                 args: DatabaseEndpointArgs,
                 opts: Optional[pulumi.ResourceOptions] = None):
        """
        Provides a resource to manage rds postgresql database endpoint
        ## Example Usage

        ```python
        import pulumi
        import pulumi_volcengine as volcengine

        cluster = volcengine.rds_postgresql.DatabaseEndpoint("cluster",
            endpoint_id="postgres-72715e0d9f58-cluster",
            endpoint_name="默认终端",
            endpoint_type="Cluster",
            instance_id="postgres-72715e0d9f58",
            read_only_node_distribution_type="Custom",
            read_only_node_max_delay_time=40,
            read_write_mode="ReadWrite",
            read_write_proxy_connection=20,
            write_node_halt_writing=False,
            read_write_splitting=True,
            read_only_node_weights=[volcengine.rds_postgresql.DatabaseEndpointReadOnlyNodeWeightArgs(
                node_id=None,
                node_type="Primary",
                weight=200,
            )],
            dns_visibility=True,
            port="5432")
        example = volcengine.rds_postgresql.DatabaseEndpoint("example",
            instance_id="postgres-72715e0d9f58",
            endpoint_name="tf-test",
            endpoint_type="Custom",
            nodes="Primary",
            read_write_mode="ReadWrite")
        ```

        ## Import

        RdsPostgresqlDatabaseEndpoint can be imported using the id, e.g.

        ```sh
        $ pulumi import volcengine:rds_postgresql/databaseEndpoint:DatabaseEndpoint default resource_id
        ```

        :param str resource_name: The name of the resource.
        :param DatabaseEndpointArgs args: The arguments to use to populate this resource's properties.
        :param pulumi.ResourceOptions opts: Options for the resource.
        """
        ...
    def __init__(__self__, resource_name: str, *args, **kwargs):
        resource_args, opts = _utilities.get_resource_args_opts(DatabaseEndpointArgs, pulumi.ResourceOptions, *args, **kwargs)
        if resource_args is not None:
            __self__._internal_init(resource_name, opts, **resource_args.__dict__)
        else:
            __self__._internal_init(resource_name, *args, **kwargs)

    def _internal_init(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 dns_visibility: Optional[pulumi.Input[bool]] = None,
                 domain_prefix: Optional[pulumi.Input[str]] = None,
                 endpoint_id: Optional[pulumi.Input[str]] = None,
                 endpoint_name: Optional[pulumi.Input[str]] = None,
                 endpoint_type: Optional[pulumi.Input[str]] = None,
                 global_read_only: Optional[pulumi.Input[bool]] = None,
                 instance_id: Optional[pulumi.Input[str]] = None,
                 nodes: Optional[pulumi.Input[str]] = None,
                 port: Optional[pulumi.Input[str]] = None,
                 read_only_node_distribution_type: Optional[pulumi.Input[str]] = None,
                 read_only_node_max_delay_time: Optional[pulumi.Input[int]] = None,
                 read_only_node_weights: Optional[pulumi.Input[Sequence[pulumi.Input[pulumi.InputType['DatabaseEndpointReadOnlyNodeWeightArgs']]]]] = None,
                 read_write_mode: Optional[pulumi.Input[str]] = None,
                 read_write_proxy_connection: Optional[pulumi.Input[int]] = None,
                 read_write_splitting: Optional[pulumi.Input[bool]] = None,
                 write_node_halt_writing: Optional[pulumi.Input[bool]] = None,
                 __props__=None):
        opts = pulumi.ResourceOptions.merge(_utilities.get_resource_opts_defaults(), opts)
        if not isinstance(opts, pulumi.ResourceOptions):
            raise TypeError('Expected resource options to be a ResourceOptions instance')
        if opts.id is None:
            if __props__ is not None:
                raise TypeError('__props__ is only valid when passed in combination with a valid opts.id to get an existing resource')
            __props__ = DatabaseEndpointArgs.__new__(DatabaseEndpointArgs)

            __props__.__dict__["dns_visibility"] = dns_visibility
            __props__.__dict__["domain_prefix"] = domain_prefix
            __props__.__dict__["endpoint_id"] = endpoint_id
            if endpoint_name is None and not opts.urn:
                raise TypeError("Missing required property 'endpoint_name'")
            __props__.__dict__["endpoint_name"] = endpoint_name
            __props__.__dict__["endpoint_type"] = endpoint_type
            __props__.__dict__["global_read_only"] = global_read_only
            if instance_id is None and not opts.urn:
                raise TypeError("Missing required property 'instance_id'")
            __props__.__dict__["instance_id"] = instance_id
            __props__.__dict__["nodes"] = nodes
            __props__.__dict__["port"] = port
            __props__.__dict__["read_only_node_distribution_type"] = read_only_node_distribution_type
            __props__.__dict__["read_only_node_max_delay_time"] = read_only_node_max_delay_time
            __props__.__dict__["read_only_node_weights"] = read_only_node_weights
            __props__.__dict__["read_write_mode"] = read_write_mode
            __props__.__dict__["read_write_proxy_connection"] = read_write_proxy_connection
            __props__.__dict__["read_write_splitting"] = read_write_splitting
            __props__.__dict__["write_node_halt_writing"] = write_node_halt_writing
        super(DatabaseEndpoint, __self__).__init__(
            'volcengine:rds_postgresql/databaseEndpoint:DatabaseEndpoint',
            resource_name,
            __props__,
            opts)

    @staticmethod
    def get(resource_name: str,
            id: pulumi.Input[str],
            opts: Optional[pulumi.ResourceOptions] = None,
            dns_visibility: Optional[pulumi.Input[bool]] = None,
            domain_prefix: Optional[pulumi.Input[str]] = None,
            endpoint_id: Optional[pulumi.Input[str]] = None,
            endpoint_name: Optional[pulumi.Input[str]] = None,
            endpoint_type: Optional[pulumi.Input[str]] = None,
            global_read_only: Optional[pulumi.Input[bool]] = None,
            instance_id: Optional[pulumi.Input[str]] = None,
            nodes: Optional[pulumi.Input[str]] = None,
            port: Optional[pulumi.Input[str]] = None,
            read_only_node_distribution_type: Optional[pulumi.Input[str]] = None,
            read_only_node_max_delay_time: Optional[pulumi.Input[int]] = None,
            read_only_node_weights: Optional[pulumi.Input[Sequence[pulumi.Input[pulumi.InputType['DatabaseEndpointReadOnlyNodeWeightArgs']]]]] = None,
            read_write_mode: Optional[pulumi.Input[str]] = None,
            read_write_proxy_connection: Optional[pulumi.Input[int]] = None,
            read_write_splitting: Optional[pulumi.Input[bool]] = None,
            write_node_halt_writing: Optional[pulumi.Input[bool]] = None) -> 'DatabaseEndpoint':
        """
        Get an existing DatabaseEndpoint resource's state with the given name, id, and optional extra
        properties used to qualify the lookup.

        :param str resource_name: The unique name of the resulting resource.
        :param pulumi.Input[str] id: The unique provider ID of the resource to lookup.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[bool] dns_visibility: Whether to enable public network resolution. false: Default value, Volcano Engine private network resolution. true: Volcano Engine private network and public network resolution. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] domain_prefix: Private address domain prefix to modify. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] endpoint_id: The ID of the connection endpoint. The ID of the default endpoint is in the form of instance_id-cluster.
        :param pulumi.Input[str] endpoint_name: The name of the connection endpoint. If not provided, the connection endpoint will be automatically named Custom Endpoint.
        :param pulumi.Input[str] endpoint_type: Type of the connection endpoint. Valid values: `Custom`(custom endpoint), `Cluster`(default endpoint). When create a new
               endpoint, the value must be `Custom`. The default cluster endpoint does not support creation; you can use import to
               bring it under Terraform management.
        :param pulumi.Input[bool] global_read_only: Whether to enable the global read-only mode for the instance. There is no default value. If no value is passed, the request will be ignored. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] instance_id: The ID of the RDS PostgreSQL instance.
        :param pulumi.Input[str] nodes: List of nodes configured for the connection endpoint. Required when EndpointType is Custom. The primary node does not need to pass the node ID; it is sufficient to pass the string "Primary".
        :param pulumi.Input[str] port: Private address port to modify. The value range is 1000~65534. Do not set this field when creating a endpoint.
        :param pulumi.Input[str] read_only_node_distribution_type: Read-only weight distribution mode, Default or Custom. Default: Standard weight allocation. Custom: Custom weight allocation.
        :param pulumi.Input[int] read_only_node_max_delay_time: The maximum delay threshold for read-only nodes. When the delay time of a read-only node exceeds this value, read traffic will not be sent to that node. The value range is 0~3600. Default value is 30 seconds.
        :param pulumi.Input[Sequence[pulumi.Input[pulumi.InputType['DatabaseEndpointReadOnlyNodeWeightArgs']]]] read_only_node_weights: Custom read weight allocation. This parameter needs to be set when the value of read_only_node_distribution_type is Custom.
        :param pulumi.Input[str] read_write_mode: ReadWrite or ReadOnly.
        :param pulumi.Input[int] read_write_proxy_connection: The number of proxy connections set for the terminal after enabling read-write separation. The minimum value of the proxy connection count is 20.
        :param pulumi.Input[bool] read_write_splitting: Whether to enable read-write separation. Only default endpoint supports this feature.
        :param pulumi.Input[bool] write_node_halt_writing: Whether to prohibit the terminal from sending write requests to the write node. To avoid having no available connection endpoints to carry write operations, this configuration can only be enabled when the instance has other read-write endpoints.
        """
        opts = pulumi.ResourceOptions.merge(opts, pulumi.ResourceOptions(id=id))

        __props__ = _DatabaseEndpointState.__new__(_DatabaseEndpointState)

        __props__.__dict__["dns_visibility"] = dns_visibility
        __props__.__dict__["domain_prefix"] = domain_prefix
        __props__.__dict__["endpoint_id"] = endpoint_id
        __props__.__dict__["endpoint_name"] = endpoint_name
        __props__.__dict__["endpoint_type"] = endpoint_type
        __props__.__dict__["global_read_only"] = global_read_only
        __props__.__dict__["instance_id"] = instance_id
        __props__.__dict__["nodes"] = nodes
        __props__.__dict__["port"] = port
        __props__.__dict__["read_only_node_distribution_type"] = read_only_node_distribution_type
        __props__.__dict__["read_only_node_max_delay_time"] = read_only_node_max_delay_time
        __props__.__dict__["read_only_node_weights"] = read_only_node_weights
        __props__.__dict__["read_write_mode"] = read_write_mode
        __props__.__dict__["read_write_proxy_connection"] = read_write_proxy_connection
        __props__.__dict__["read_write_splitting"] = read_write_splitting
        __props__.__dict__["write_node_halt_writing"] = write_node_halt_writing
        return DatabaseEndpoint(resource_name, opts=opts, __props__=__props__)

    @property
    @pulumi.getter(name="dnsVisibility")
    def dns_visibility(self) -> pulumi.Output[bool]:
        """
        Whether to enable public network resolution. false: Default value, Volcano Engine private network resolution. true: Volcano Engine private network and public network resolution. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "dns_visibility")

    @property
    @pulumi.getter(name="domainPrefix")
    def domain_prefix(self) -> pulumi.Output[Optional[str]]:
        """
        Private address domain prefix to modify. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "domain_prefix")

    @property
    @pulumi.getter(name="endpointId")
    def endpoint_id(self) -> pulumi.Output[str]:
        """
        The ID of the connection endpoint. The ID of the default endpoint is in the form of instance_id-cluster.
        """
        return pulumi.get(self, "endpoint_id")

    @property
    @pulumi.getter(name="endpointName")
    def endpoint_name(self) -> pulumi.Output[str]:
        """
        The name of the connection endpoint. If not provided, the connection endpoint will be automatically named Custom Endpoint.
        """
        return pulumi.get(self, "endpoint_name")

    @property
    @pulumi.getter(name="endpointType")
    def endpoint_type(self) -> pulumi.Output[Optional[str]]:
        """
        Type of the connection endpoint. Valid values: `Custom`(custom endpoint), `Cluster`(default endpoint). When create a new
        endpoint, the value must be `Custom`. The default cluster endpoint does not support creation; you can use import to
        bring it under Terraform management.
        """
        return pulumi.get(self, "endpoint_type")

    @property
    @pulumi.getter(name="globalReadOnly")
    def global_read_only(self) -> pulumi.Output[Optional[bool]]:
        """
        Whether to enable the global read-only mode for the instance. There is no default value. If no value is passed, the request will be ignored. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "global_read_only")

    @property
    @pulumi.getter(name="instanceId")
    def instance_id(self) -> pulumi.Output[str]:
        """
        The ID of the RDS PostgreSQL instance.
        """
        return pulumi.get(self, "instance_id")

    @property
    @pulumi.getter
    def nodes(self) -> pulumi.Output[Optional[str]]:
        """
        List of nodes configured for the connection endpoint. Required when EndpointType is Custom. The primary node does not need to pass the node ID; it is sufficient to pass the string "Primary".
        """
        return pulumi.get(self, "nodes")

    @property
    @pulumi.getter
    def port(self) -> pulumi.Output[str]:
        """
        Private address port to modify. The value range is 1000~65534. Do not set this field when creating a endpoint.
        """
        return pulumi.get(self, "port")

    @property
    @pulumi.getter(name="readOnlyNodeDistributionType")
    def read_only_node_distribution_type(self) -> pulumi.Output[str]:
        """
        Read-only weight distribution mode, Default or Custom. Default: Standard weight allocation. Custom: Custom weight allocation.
        """
        return pulumi.get(self, "read_only_node_distribution_type")

    @property
    @pulumi.getter(name="readOnlyNodeMaxDelayTime")
    def read_only_node_max_delay_time(self) -> pulumi.Output[int]:
        """
        The maximum delay threshold for read-only nodes. When the delay time of a read-only node exceeds this value, read traffic will not be sent to that node. The value range is 0~3600. Default value is 30 seconds.
        """
        return pulumi.get(self, "read_only_node_max_delay_time")

    @property
    @pulumi.getter(name="readOnlyNodeWeights")
    def read_only_node_weights(self) -> pulumi.Output[Sequence['outputs.DatabaseEndpointReadOnlyNodeWeight']]:
        """
        Custom read weight allocation. This parameter needs to be set when the value of read_only_node_distribution_type is Custom.
        """
        return pulumi.get(self, "read_only_node_weights")

    @property
    @pulumi.getter(name="readWriteMode")
    def read_write_mode(self) -> pulumi.Output[Optional[str]]:
        """
        ReadWrite or ReadOnly.
        """
        return pulumi.get(self, "read_write_mode")

    @property
    @pulumi.getter(name="readWriteProxyConnection")
    def read_write_proxy_connection(self) -> pulumi.Output[int]:
        """
        The number of proxy connections set for the terminal after enabling read-write separation. The minimum value of the proxy connection count is 20.
        """
        return pulumi.get(self, "read_write_proxy_connection")

    @property
    @pulumi.getter(name="readWriteSplitting")
    def read_write_splitting(self) -> pulumi.Output[bool]:
        """
        Whether to enable read-write separation. Only default endpoint supports this feature.
        """
        return pulumi.get(self, "read_write_splitting")

    @property
    @pulumi.getter(name="writeNodeHaltWriting")
    def write_node_halt_writing(self) -> pulumi.Output[bool]:
        """
        Whether to prohibit the terminal from sending write requests to the write node. To avoid having no available connection endpoints to carry write operations, this configuration can only be enabled when the instance has other read-write endpoints.
        """
        return pulumi.get(self, "write_node_halt_writing")

