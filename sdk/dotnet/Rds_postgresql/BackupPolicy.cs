// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Volcengine.Rds_postgresql
{
    /// <summary>
    /// Provides a resource to manage rds postgresql backup policy
    /// ## Example Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Volcengine = Pulumi.Volcengine;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Volcengine.Rds_postgresql.BackupPolicy("example", new()
    ///     {
    ///         BackupRetentionPeriod = 7,
    ///         DataIncrBackupPeriods = "Tuesday,Sunday",
    ///         FullBackupPeriod = "Monday,Wednesday,Friday",
    ///         FullBackupTime = "18:00Z-19:00Z",
    ///         HourlyIncrBackupEnable = true,
    ///         IncrementBackupFrequency = 12,
    ///         InstanceId = "postgres-72715e0d9f58",
    ///         WalLogSpaceLimitEnable = false,
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// RdsPostgresqlBackupPolicy can be imported using the id, e.g.
    /// 
    /// ```sh
    /// $ pulumi import volcengine:rds_postgresql/backupPolicy:BackupPolicy default resource_id
    /// ```
    /// </summary>
    [VolcengineResourceType("volcengine:rds_postgresql/backupPolicy:BackupPolicy")]
    public partial class BackupPolicy : global::Pulumi.CustomResource
    {
        /// <summary>
        /// The number of days to retain backups, with a value range of 7 to 365.
        /// </summary>
        [Output("backupRetentionPeriod")]
        public Output<int?> BackupRetentionPeriod { get; private set; } = null!;

        /// <summary>
        /// The incremental backup method follows the backup frequency for normal increments, with multiple values separated by English commas (,). The selected values must not overlap with the full backup cycle. Can select at most six days a week for incremental backup.
        /// </summary>
        [Output("dataIncrBackupPeriods")]
        public Output<string?> DataIncrBackupPeriods { get; private set; } = null!;

        /// <summary>
        /// Full backup period. Separate multiple values with an English comma (,).Select at least one day per week for a full backup.
        /// </summary>
        [Output("fullBackupPeriod")]
        public Output<string?> FullBackupPeriod { get; private set; } = null!;

        /// <summary>
        /// The time when the backup task is executed. Format: HH:mmZ-HH:mmZ (UTC time).
        /// </summary>
        [Output("fullBackupTime")]
        public Output<string?> FullBackupTime { get; private set; } = null!;

        /// <summary>
        /// Whether to enable the high-frequency backup function. To disable incremental backup, need to pass an empty string for the parameter data_incr_backup_periods and pass false for the parameter hourly_incr_backup_enable.
        /// </summary>
        [Output("hourlyIncrBackupEnable")]
        public Output<bool?> HourlyIncrBackupEnable { get; private set; } = null!;

        /// <summary>
        /// The method of incremental backup is the backup frequency for high-frequency increments. The Unit: hours. The valid values are 1, 2, 4, 6, and 12.
        /// </summary>
        [Output("incrementBackupFrequency")]
        public Output<int?> IncrementBackupFrequency { get; private set; } = null!;

        /// <summary>
        /// The id of the PostgreSQL instance.
        /// </summary>
        [Output("instanceId")]
        public Output<string> InstanceId { get; private set; } = null!;

        /// <summary>
        /// Status of the local remaining available space protection function. When enabled, it will automatically start clearing the earliest local WAL logs when the total storage space usage rate of the instance exceeds 80% or the remaining space is less than 5GB, until the total space usage rate is below 80% and the remaining space is greater than 5GB.
        /// </summary>
        [Output("walLogSpaceLimitEnable")]
        public Output<bool?> WalLogSpaceLimitEnable { get; private set; } = null!;


        /// <summary>
        /// Create a BackupPolicy resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public BackupPolicy(string name, BackupPolicyArgs args, CustomResourceOptions? options = null)
            : base("volcengine:rds_postgresql/backupPolicy:BackupPolicy", name, args ?? new BackupPolicyArgs(), MakeResourceOptions(options, ""))
        {
        }

        private BackupPolicy(string name, Input<string> id, BackupPolicyState? state = null, CustomResourceOptions? options = null)
            : base("volcengine:rds_postgresql/backupPolicy:BackupPolicy", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                PluginDownloadURL = "github://api.github.com/volcengine",
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing BackupPolicy resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static BackupPolicy Get(string name, Input<string> id, BackupPolicyState? state = null, CustomResourceOptions? options = null)
        {
            return new BackupPolicy(name, id, state, options);
        }
    }

    public sealed class BackupPolicyArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The number of days to retain backups, with a value range of 7 to 365.
        /// </summary>
        [Input("backupRetentionPeriod")]
        public Input<int>? BackupRetentionPeriod { get; set; }

        /// <summary>
        /// The incremental backup method follows the backup frequency for normal increments, with multiple values separated by English commas (,). The selected values must not overlap with the full backup cycle. Can select at most six days a week for incremental backup.
        /// </summary>
        [Input("dataIncrBackupPeriods")]
        public Input<string>? DataIncrBackupPeriods { get; set; }

        /// <summary>
        /// Full backup period. Separate multiple values with an English comma (,).Select at least one day per week for a full backup.
        /// </summary>
        [Input("fullBackupPeriod")]
        public Input<string>? FullBackupPeriod { get; set; }

        /// <summary>
        /// The time when the backup task is executed. Format: HH:mmZ-HH:mmZ (UTC time).
        /// </summary>
        [Input("fullBackupTime")]
        public Input<string>? FullBackupTime { get; set; }

        /// <summary>
        /// Whether to enable the high-frequency backup function. To disable incremental backup, need to pass an empty string for the parameter data_incr_backup_periods and pass false for the parameter hourly_incr_backup_enable.
        /// </summary>
        [Input("hourlyIncrBackupEnable")]
        public Input<bool>? HourlyIncrBackupEnable { get; set; }

        /// <summary>
        /// The method of incremental backup is the backup frequency for high-frequency increments. The Unit: hours. The valid values are 1, 2, 4, 6, and 12.
        /// </summary>
        [Input("incrementBackupFrequency")]
        public Input<int>? IncrementBackupFrequency { get; set; }

        /// <summary>
        /// The id of the PostgreSQL instance.
        /// </summary>
        [Input("instanceId", required: true)]
        public Input<string> InstanceId { get; set; } = null!;

        /// <summary>
        /// Status of the local remaining available space protection function. When enabled, it will automatically start clearing the earliest local WAL logs when the total storage space usage rate of the instance exceeds 80% or the remaining space is less than 5GB, until the total space usage rate is below 80% and the remaining space is greater than 5GB.
        /// </summary>
        [Input("walLogSpaceLimitEnable")]
        public Input<bool>? WalLogSpaceLimitEnable { get; set; }

        public BackupPolicyArgs()
        {
        }
        public static new BackupPolicyArgs Empty => new BackupPolicyArgs();
    }

    public sealed class BackupPolicyState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The number of days to retain backups, with a value range of 7 to 365.
        /// </summary>
        [Input("backupRetentionPeriod")]
        public Input<int>? BackupRetentionPeriod { get; set; }

        /// <summary>
        /// The incremental backup method follows the backup frequency for normal increments, with multiple values separated by English commas (,). The selected values must not overlap with the full backup cycle. Can select at most six days a week for incremental backup.
        /// </summary>
        [Input("dataIncrBackupPeriods")]
        public Input<string>? DataIncrBackupPeriods { get; set; }

        /// <summary>
        /// Full backup period. Separate multiple values with an English comma (,).Select at least one day per week for a full backup.
        /// </summary>
        [Input("fullBackupPeriod")]
        public Input<string>? FullBackupPeriod { get; set; }

        /// <summary>
        /// The time when the backup task is executed. Format: HH:mmZ-HH:mmZ (UTC time).
        /// </summary>
        [Input("fullBackupTime")]
        public Input<string>? FullBackupTime { get; set; }

        /// <summary>
        /// Whether to enable the high-frequency backup function. To disable incremental backup, need to pass an empty string for the parameter data_incr_backup_periods and pass false for the parameter hourly_incr_backup_enable.
        /// </summary>
        [Input("hourlyIncrBackupEnable")]
        public Input<bool>? HourlyIncrBackupEnable { get; set; }

        /// <summary>
        /// The method of incremental backup is the backup frequency for high-frequency increments. The Unit: hours. The valid values are 1, 2, 4, 6, and 12.
        /// </summary>
        [Input("incrementBackupFrequency")]
        public Input<int>? IncrementBackupFrequency { get; set; }

        /// <summary>
        /// The id of the PostgreSQL instance.
        /// </summary>
        [Input("instanceId")]
        public Input<string>? InstanceId { get; set; }

        /// <summary>
        /// Status of the local remaining available space protection function. When enabled, it will automatically start clearing the earliest local WAL logs when the total storage space usage rate of the instance exceeds 80% or the remaining space is less than 5GB, until the total space usage rate is below 80% and the remaining space is greater than 5GB.
        /// </summary>
        [Input("walLogSpaceLimitEnable")]
        public Input<bool>? WalLogSpaceLimitEnable { get; set; }

        public BackupPolicyState()
        {
        }
        public static new BackupPolicyState Empty => new BackupPolicyState();
    }
}
